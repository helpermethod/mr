#!/usr/bin/env bash

set -e

mr() {
  local url
  url=$(git remote get-url origin)
	local cmd
	[[ $OSTYPE = darwin* ]] && cmd=xdg-open || cmd=open

  "$cmd" "${url%.git}/merge_requests/new?merge_request[source_branch]=$(git symbolic-ref -q --short HEAD)"
}

mr
